apply plugin: 'com.android.application'

allprojects {
    repositories {
        jcenter()
        maven {
            url "https://maven.google.com"
        }
    }
}
android {
    defaultConfig {
        applicationId 'net.anei.cadpage'
        versionName project.versionName
        versionCode project.versionCode
        targetSdkVersion 29
        minSdkVersion 14
    }
    dexOptions {
        jumboMode = true
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt')
        }

        flavorDimensions "type", "abi"
        productFlavors {
            // ABI
            armv7 {
                dimension "abi"
                ndk {
                        abiFilter 'armeabi-v7a'
                }
            }
            arm64 {
                dimension "abi"
                ndk {
                        abiFilter 'arm64-v8a'
                }
            }
            x86 {
                dimension "abi"
                ndk {
                abiFilter 'x86'
                }
            }
            full {
                dimension "type"
                versionNameSuffix "(M)"
                versionCode android.defaultConfig.versionCode + 1
            }

            restrict {
                dimension "type"
                versionNameSuffix "(R)"
            }
        }
    }
    compileSdkVersion 29

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    buildToolsVersion '28.0.3'
}

dependencies {
    implementation project(':cadpage-parsers')
    implementation 'com.android.support:appcompat-v7:28.0.0'
    implementation 'com.android.support:support-v4:28.0.0'
    implementation 'com.android.support:recyclerview-v7:28.0.0'
    implementation 'com.google.firebase:firebase-core:16.0.7'
    implementation 'com.google.firebase:firebase-iid:17.1.0'
    implementation 'com.google.firebase:firebase-messaging:17.4.0'
    implementation 'android.arch.work:work-runtime:1.0.0'
    implementation 'android.arch.lifecycle:common-java8:1.0.0'
    api 'com.android.billingclient:billing:1.0'
}

apply plugin: 'com.google.gms.google-services'
